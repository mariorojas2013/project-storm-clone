{"version":3,"file":"DefaultState.js","sourceRoot":"","sources":["../../src/states/DefaultState.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,MAAM,EAAe,SAAS,EAAE,MAAM,wBAAwB,CAAC;AAExE,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAElD,MAAM,OAAO,YAAa,SAAQ,KAAK;IACtC;QACC,KAAK,CAAC;YACL,IAAI,EAAE,SAAS;SACf,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,cAAc,EAAE,CAAC,CAAC;QAE1C,gCAAgC;QAChC,IAAI,CAAC,cAAc,CAClB,IAAI,MAAM,CAAC;YACV,IAAI,EAAE,SAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBAExE,qEAAqE;gBACrE,IAAI,CAAC,OAAO,EAAE,CAAC;oBACd,IAAI,CAAC,mBAAmB,CAAC,IAAI,eAAe,EAAE,EAAE,KAAK,CAAC,CAAC;gBACxD,CAAC;qBAAM,CAAC;oBACP,IAAI,CAAC,mBAAmB,CAAC,IAAI,cAAc,EAAE,EAAE,KAAK,CAAC,CAAC;gBACvD,CAAC;YACF,CAAC;SACD,CAAC,CACF,CAAC;QAEF,yBAAyB;QACzB,IAAI,CAAC,cAAc,CAClB,IAAI,MAAM,CAAC;YACV,IAAI,EAAE,SAAS,CAAC,WAAW;YAC3B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,IAAI,CAAC,mBAAmB,CAAC,IAAI,eAAe,EAAE,EAAE,KAAK,CAAC,CAAC;YACxD,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CACD","sourcesContent":["import { State } from '../core-state/State';\r\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\r\nimport { MouseEvent, TouchEvent } from 'react';\r\nimport { DragCanvasState } from './DragCanvasState';\r\nimport { SelectingState } from './SelectingState';\r\nimport { MoveItemsState } from './MoveItemsState';\r\n\r\nexport class DefaultState extends State {\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tname: 'default'\r\n\t\t});\r\n\t\tthis.childStates = [new SelectingState()];\r\n\r\n\t\t// determine what was clicked on\r\n\t\tthis.registerAction(\r\n\t\t\tnew Action({\r\n\t\t\t\ttype: InputType.MOUSE_DOWN,\r\n\t\t\t\tfire: (event: ActionEvent<MouseEvent>) => {\r\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\r\n\r\n\t\t\t\t\t// the canvas was clicked on, transition to the dragging canvas state\r\n\t\t\t\t\tif (!element) {\r\n\t\t\t\t\t\tthis.transitionWithEvent(new DragCanvasState(), event);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.transitionWithEvent(new MoveItemsState(), event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\t// touch drags the canvas\r\n\t\tthis.registerAction(\r\n\t\t\tnew Action({\r\n\t\t\t\ttype: InputType.TOUCH_START,\r\n\t\t\t\tfire: (event: ActionEvent<TouchEvent>) => {\r\n\t\t\t\t\tthis.transitionWithEvent(new DragCanvasState(), event);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}\r\n"]}