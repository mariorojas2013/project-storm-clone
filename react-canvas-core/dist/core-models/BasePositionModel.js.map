{"version":3,"file":"BasePositionModel.js","sourceRoot":"","sources":["../../src/core-models/BasePositionModel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAA0D,MAAM,aAAa,CAAC;AAEhG,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AAgB1D,MAAM,OAAO,iBACZ,SAAQ,SAAY;IAKpB,YAAY,OAAqB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;IAID,WAAW,CAAC,CAAiB,EAAE,CAAU;QACxC,IAAI,CAAC,YAAY,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QACnB,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,QAAQ,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,iBAAiB,CAAC,CAAC;IACvC,CAAC;IAED,cAAc;QACb,OAAO,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACxD,CAAC;IAED,WAAW,CAAC,KAA6B;QACxC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,SAAS;QACR,uCACI,KAAK,CAAC,SAAS,EAAE,KACpB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAClB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IACjB;IACH,CAAC;IAED,WAAW;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IAED,IAAI;QACH,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,IAAI;QACH,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACxB,CAAC;CACD","sourcesContent":["import { BaseModel, BaseModelGenerics, BaseModelListener, BaseModelOptions } from './BaseModel';\r\nimport { BaseEntityEvent, DeserializeEvent } from './BaseEntity';\r\nimport { Point, Rectangle } from '@projectstorm/geometry';\r\nimport { ModelGeometryInterface } from '../core/ModelGeometryInterface';\r\n\r\nexport interface BasePositionModelListener extends BaseModelListener {\r\n\tpositionChanged?(event: BaseEntityEvent<BasePositionModel>): void;\r\n}\r\n\r\nexport interface BasePositionModelOptions extends BaseModelOptions {\r\n\tposition?: Point;\r\n}\r\n\r\nexport interface BasePositionModelGenerics extends BaseModelGenerics {\r\n\tLISTENER: BasePositionModelListener;\r\n\tOPTIONS: BasePositionModelOptions;\r\n}\r\n\r\nexport class BasePositionModel<G extends BasePositionModelGenerics = BasePositionModelGenerics>\r\n\textends BaseModel<G>\r\n\timplements ModelGeometryInterface\r\n{\r\n\tprotected position: Point;\r\n\r\n\tconstructor(options: G['OPTIONS']) {\r\n\t\tsuper(options);\r\n\t\tthis.position = options.position || new Point(0, 0);\r\n\t}\r\n\r\n\tsetPosition(point: Point): void;\r\n\tsetPosition(x: number, y: number): void;\r\n\tsetPosition(x: number | Point, y?: number): void {\r\n\t\tif (x instanceof Point) {\r\n\t\t\tthis.position = x;\r\n\t\t} else {\r\n\t\t\tthis.position = new Point(x, y);\r\n\t\t}\r\n\t\tthis.fireEvent({}, 'positionChanged');\r\n\t}\r\n\r\n\tgetBoundingBox(): Rectangle {\r\n\t\treturn Rectangle.fromPointAndSize(this.position, 0, 0);\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>) {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.position = new Point(event.data.x, event.data.y);\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\tx: this.position.x,\r\n\t\t\ty: this.position.y\r\n\t\t};\r\n\t}\r\n\r\n\tgetPosition(): Point {\r\n\t\treturn this.position;\r\n\t}\r\n\r\n\tgetX() {\r\n\t\treturn this.position.x;\r\n\t}\r\n\r\n\tgetY() {\r\n\t\treturn this.position.y;\r\n\t}\r\n}\r\n"]}