{"version":3,"file":"LinkLayerModel.js","sourceRoot":"","sources":["../../../src/entities/link-layer/LinkLayerModel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAsB,MAAM,iCAAiC,CAAC;AACjF,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAC;AAS9C,MAAM,OAAO,cAA0E,SAAQ,UAAa;IAC3G;QACC,KAAK,CAAC;YACL,IAAI,EAAE,eAAe;YACrB,KAAK,EAAE,IAAI;YACX,WAAW,EAAE,IAAI;SACjB,CAAC,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,KAAoB;QAC5B,IAAI,CAAC,CAAC,KAAK,YAAY,SAAS,CAAC,EAAE,CAAC;YACnC,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACrD,CAAC;QACD,KAAK,CAAC,gBAAgB,CAAC;YACtB,aAAa,EAAE,GAAG,EAAE;gBAClB,IAAI,CAAC,SAAS,EAAmB,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACtD,CAAC;SACD,CAAC,CAAC;QACH,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACvB,CAAC;IAED,QAAQ;QACP,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC;IACzB,CAAC;IAED,wBAAwB,CAAC,MAAmB;QAC3C,OAAO,MAAM,CAAC,gBAAgB,EAAE,CAAC;IAClC,CAAC;CACD","sourcesContent":["import { LayerModel, LayerModelGenerics } from '@projectstorm/react-canvas-core';\r\nimport { LinkModel } from '../link/LinkModel';\r\nimport { DiagramEngine } from '../../DiagramEngine';\r\nimport { DiagramModel } from '../../models/DiagramModel';\r\n\r\nexport interface LinkLayerModelGenerics extends LayerModelGenerics {\r\n\tCHILDREN: LinkModel;\r\n\tENGINE: DiagramEngine;\r\n}\r\n\r\nexport class LinkLayerModel<G extends LinkLayerModelGenerics = LinkLayerModelGenerics> extends LayerModel<G> {\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\ttype: 'diagram-links',\r\n\t\t\tisSvg: true,\r\n\t\t\ttransformed: true\r\n\t\t});\r\n\t}\r\n\r\n\taddModel(model: G['CHILDREN']): void {\r\n\t\tif (!(model instanceof LinkModel)) {\r\n\t\t\tthrow new Error('Can only add links to this layer');\r\n\t\t}\r\n\t\tmodel.registerListener({\r\n\t\t\tentityRemoved: () => {\r\n\t\t\t\t(this.getParent() as DiagramModel).removeLink(model);\r\n\t\t\t}\r\n\t\t});\r\n\t\tsuper.addModel(model);\r\n\t}\r\n\r\n\tgetLinks() {\r\n\t\treturn this.getModels();\r\n\t}\r\n\r\n\tgetChildModelFactoryBank(engine: G['ENGINE']) {\r\n\t\treturn engine.getLinkFactories();\r\n\t}\r\n}\r\n"]}