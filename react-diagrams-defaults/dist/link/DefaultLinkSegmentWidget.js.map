{"version":3,"file":"DefaultLinkSegmentWidget.js","sourceRoot":"","sources":["../../src/link/DefaultLinkSegmentWidget.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAgB/B,MAAM,OAAO,wBAAyB,SAAQ,KAAK,CAAC,SAAwC;IAC3F,MAAM;QACL,MAAM,MAAM,GAAG,KAAK,CAAC,YAAY,CAChC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,mBAAmB,CACrC,IAAI,CAAC,KAAK,CAAC,IAAI,EACf,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,EACnD,IAAI,CAAC,KAAK,CAAC,IAAI,CACf,EACD;YACC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU;SAC1B,CACD,CAAC;QAEF,MAAM,GAAG,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,gCACpC,aAAa,EAAE,OAAO,EACtB,YAAY,EAAE,GAAG,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC/B,CAAC,EACD,YAAY,EAAE,GAAG,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC,IACE,IAAI,CAAC,KAAK,CAAC,MAAM,KACpB,GAAG,EAAE,IAAI,EACT,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,EACtC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAC5C,WAAW,EAAE,EAAE,EACf,IAAI,EAAE,MAAM,EACZ,aAAa,EAAE,GAAG,EAAE;gBACnB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACjC,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;gBAC1B,CAAC;YACF,CAAC,IACA,CAAC;QAEH,OAAO,CACN;YACE,MAAM;YACN,GAAG,CACD,CACJ,CAAC;IACH,CAAC;CACD","sourcesContent":["import * as React from 'react';\r\nimport { DefaultLinkFactory } from './DefaultLinkFactory';\r\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\r\nimport { DefaultLinkModel } from './DefaultLinkModel';\r\n\r\nexport interface DefaultLinkSegmentWidgetProps {\r\n\tpath: string;\r\n\tlink: DefaultLinkModel;\r\n\tselected: boolean;\r\n\tforwardRef: React.RefObject<SVGPathElement>;\r\n\tfactory: DefaultLinkFactory;\r\n\tdiagramEngine: DiagramEngine;\r\n\tonSelection: (selected: boolean) => any;\r\n\textras: object;\r\n}\r\n\r\nexport class DefaultLinkSegmentWidget extends React.Component<DefaultLinkSegmentWidgetProps> {\r\n\trender() {\r\n\t\tconst Bottom = React.cloneElement(\r\n\t\t\tthis.props.factory.generateLinkSegment(\r\n\t\t\t\tthis.props.link,\r\n\t\t\t\tthis.props.selected || this.props.link.isSelected(),\r\n\t\t\t\tthis.props.path\r\n\t\t\t),\r\n\t\t\t{\r\n\t\t\t\tref: this.props.forwardRef\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst Top = React.cloneElement(Bottom, {\r\n\t\t\tstrokeLinecap: 'round',\r\n\t\t\tonMouseLeave: () => {\r\n\t\t\t\tthis.props.onSelection(false);\r\n\t\t\t},\r\n\t\t\tonMouseEnter: () => {\r\n\t\t\t\tthis.props.onSelection(true);\r\n\t\t\t},\r\n\t\t\t...this.props.extras,\r\n\t\t\tref: null,\r\n\t\t\t'data-linkid': this.props.link.getID(),\r\n\t\t\tstrokeOpacity: this.props.selected ? 0.1 : 0,\r\n\t\t\tstrokeWidth: 20,\r\n\t\t\tfill: 'none',\r\n\t\t\tonContextMenu: () => {\r\n\t\t\t\tif (!this.props.link.isLocked()) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tthis.props.link.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<g>\r\n\t\t\t\t{Bottom}\r\n\t\t\t\t{Top}\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n}\r\n"]}