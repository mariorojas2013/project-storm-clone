{"version":3,"file":"DefaultPortModel.js","sourceRoot":"","sources":["../../src/port/DefaultPortModel.ts"],"names":[],"mappings":"AAAA,OAAO,EAEN,SAAS,EACT,kBAAkB,EAGlB,MAAM,mCAAmC,CAAC;AAC3C,OAAO,EAAE,gBAAgB,EAAE,MAAM,0BAA0B,CAAC;AAa5D,MAAM,OAAO,gBAAiB,SAAQ,SAAmC;IAGxE,YAAY,OAA0C,EAAE,IAAa,EAAE,KAAc;QACpF,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,GAAG;gBACT,EAAE,EAAE,CAAC,CAAC,OAAO;gBACb,IAAI,EAAE,IAAI;gBACV,KAAK,EAAE,KAAK;aACZ,CAAC;QACH,CAAC;QACD,OAAO,GAAG,OAAkC,CAAC;QAC7C,KAAK,iBACJ,KAAK,EAAE,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,IAAI,EACpC,SAAS,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,kBAAkB,CAAC,KAAK,EAC1E,IAAI,EAAE,SAAS,IACZ,OAAO,EACT,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,KAA6B;QACxC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;IACvC,CAAC;IAED,SAAS;QACR,uCACI,KAAK,CAAC,SAAS,EAAE,KACpB,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,EACnB,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,IACxB;IACH,CAAC;IAED,IAAI,CAAsB,IAAe,EAAE,OAAiC;QAC3E,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,OAAO,IAAS,CAAC;IAClB,CAAC;IAED,aAAa,CAAC,IAAe;QAC5B,IAAI,IAAI,YAAY,gBAAgB,EAAE,CAAC;YACtC,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC;QACjD,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,eAAe,CAAC,OAAyC;QACxD,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,EAAE,CAAC;QACnC,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE,CAAC;YACtB,OAAO,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC;QACD,OAAO,IAAI,IAAI,IAAI,gBAAgB,EAAE,CAAC;IACvC,CAAC;CACD","sourcesContent":["import {\r\n\tLinkModel,\r\n\tPortModel,\r\n\tPortModelAlignment,\r\n\tPortModelGenerics,\r\n\tPortModelOptions\r\n} from '@projectstorm/react-diagrams-core';\r\nimport { DefaultLinkModel } from '../link/DefaultLinkModel';\r\nimport { AbstractModelFactory, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\n\r\nexport interface DefaultPortModelOptions extends PortModelOptions {\r\n\tlabel?: string;\r\n\tin?: boolean;\r\n\ttype?: string;\r\n}\r\n\r\nexport interface DefaultPortModelGenerics extends PortModelGenerics {\r\n\tOPTIONS: DefaultPortModelOptions;\r\n}\r\n\r\nexport class DefaultPortModel extends PortModel<DefaultPortModelGenerics> {\r\n\tconstructor(isIn: boolean, name?: string, label?: string);\r\n\tconstructor(options: DefaultPortModelOptions);\r\n\tconstructor(options: DefaultPortModelOptions | boolean, name?: string, label?: string) {\r\n\t\tif (!!name) {\r\n\t\t\toptions = {\r\n\t\t\t\tin: !!options,\r\n\t\t\t\tname: name,\r\n\t\t\t\tlabel: label\r\n\t\t\t};\r\n\t\t}\r\n\t\toptions = options as DefaultPortModelOptions;\r\n\t\tsuper({\r\n\t\t\tlabel: options.label || options.name,\r\n\t\t\talignment: options.in ? PortModelAlignment.LEFT : PortModelAlignment.RIGHT,\r\n\t\t\ttype: 'default',\r\n\t\t\t...options\r\n\t\t});\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>) {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.options.in = event.data.in;\r\n\t\tthis.options.label = event.data.label;\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\tin: this.options.in,\r\n\t\t\tlabel: this.options.label\r\n\t\t};\r\n\t}\r\n\r\n\tlink<T extends LinkModel>(port: PortModel, factory?: AbstractModelFactory<T>): T {\r\n\t\tlet link = this.createLinkModel(factory);\r\n\t\tlink.setSourcePort(this);\r\n\t\tlink.setTargetPort(port);\r\n\t\treturn link as T;\r\n\t}\r\n\r\n\tcanLinkToPort(port: PortModel): boolean {\r\n\t\tif (port instanceof DefaultPortModel) {\r\n\t\t\treturn this.options.in !== port.getOptions().in;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcreateLinkModel(factory?: AbstractModelFactory<LinkModel>): LinkModel {\r\n\t\tlet link = super.createLinkModel();\r\n\t\tif (!link && factory) {\r\n\t\t\treturn factory.generateModel({});\r\n\t\t}\r\n\t\treturn link || new DefaultLinkModel();\r\n\t}\r\n}\r\n"]}